EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:ft232rl
LIBS:relais
LIBS:Supply
LIBS:tera_general
LIBS:tera_switches
LIBS:tera_logic
LIBS:HostInterfaceSplitter-V2-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 5
Title "BMS Host Interface Splitter"
Date "2017-01-06"
Rev "2"
Comp "TERA TU Graz"
Comment1 "Rene PÃ¶schl"
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Sheet
S 5000 850  550  1100
U 57EAD33B
F0 "Line1" 60
F1 "HostLine.sch" 60
F2 "5V" I L 5000 950 60 
F3 "GND" I L 5000 1900 60 
F4 "MISO" T L 5000 1300 60 
F5 "NCS" I L 5000 1500 60 
F6 "CLK" I L 5000 1200 60 
F7 "MOSI" I L 5000 1400 60 
F8 "~ALERT" O L 5000 1650 60 
F9 "~FAULT" O L 5000 1750 60 
F10 "12V" I L 5000 1050 60 
$EndSheet
$Sheet
S 5000 2400 550  1100
U 57EB35FE
F0 "Line2" 60
F1 "HostLine.sch" 60
F2 "5V" I L 5000 2500 60 
F3 "GND" I L 5000 3450 60 
F4 "MISO" T L 5000 2850 60 
F5 "NCS" I L 5000 3050 60 
F6 "CLK" I L 5000 2750 60 
F7 "MOSI" I L 5000 2950 60 
F8 "~ALERT" O L 5000 3200 60 
F9 "~FAULT" O L 5000 3300 60 
F10 "12V" I L 5000 2600 60 
$EndSheet
$Sheet
S 7650 800  550  1100
U 57EB6BDD
F0 "Line3" 60
F1 "HostLine.sch" 60
F2 "5V" I L 7650 900 60 
F3 "GND" I L 7650 1850 60 
F4 "MISO" T L 7650 1250 60 
F5 "NCS" I L 7650 1450 60 
F6 "CLK" I L 7650 1150 60 
F7 "MOSI" I L 7650 1350 60 
F8 "~ALERT" O L 7650 1600 60 
F9 "~FAULT" O L 7650 1700 60 
F10 "12V" I L 7650 1000 60 
$EndSheet
$Sheet
S 7650 2350 550  1100
U 57EB6BE8
F0 "Line4" 60
F1 "HostLine.sch" 60
F2 "5V" I L 7650 2450 60 
F3 "GND" I L 7650 3400 60 
F4 "MISO" T L 7650 2800 60 
F5 "NCS" I L 7650 3000 60 
F6 "CLK" I L 7650 2700 60 
F7 "MOSI" I L 7650 2900 60 
F8 "~ALERT" O L 7650 3150 60 
F9 "~FAULT" O L 7650 3250 60 
F10 "12V" I L 7650 2550 60 
$EndSheet
$Comp
L +12V #PWR01
U 1 1 57EB9032
P 4550 1000
F 0 "#PWR01" H 4550 850 50  0001 C CNN
F 1 "+12V" H 4565 1173 50  0000 C CNN
F 2 "" H 4550 1000 50  0000 C CNN
F 3 "" H 4550 1000 50  0000 C CNN
	1    4550 1000
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR02
U 1 1 57EB911E
P 4750 900
F 0 "#PWR02" H 4750 750 50  0001 C CNN
F 1 "+5V" H 4765 1073 50  0000 C CNN
F 2 "" H 4750 900 50  0000 C CNN
F 3 "" H 4750 900 50  0000 C CNN
	1    4750 900 
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR03
U 1 1 57EB920A
P 4800 1950
F 0 "#PWR03" H 4800 1700 50  0001 C CNN
F 1 "GND" H 4805 1777 50  0000 C CNN
F 2 "" H 4800 1950 50  0000 C CNN
F 3 "" H 4800 1950 50  0000 C CNN
	1    4800 1950
	1    0    0    -1  
$EndComp
Wire Wire Line
	4550 1000 4550 1050
Wire Wire Line
	4550 1050 5000 1050
Wire Wire Line
	4750 900  4750 950 
Wire Wire Line
	4750 950  5000 950 
Wire Wire Line
	4800 1950 4800 1900
Wire Wire Line
	4800 1900 5000 1900
$Comp
L +12V #PWR04
U 1 1 57EBAC18
P 4550 2550
F 0 "#PWR04" H 4550 2400 50  0001 C CNN
F 1 "+12V" H 4565 2723 50  0000 C CNN
F 2 "" H 4550 2550 50  0000 C CNN
F 3 "" H 4550 2550 50  0000 C CNN
	1    4550 2550
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR05
U 1 1 57EBAC1E
P 4750 2450
F 0 "#PWR05" H 4750 2300 50  0001 C CNN
F 1 "+5V" H 4765 2623 50  0000 C CNN
F 2 "" H 4750 2450 50  0000 C CNN
F 3 "" H 4750 2450 50  0000 C CNN
	1    4750 2450
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR06
U 1 1 57EBAC24
P 4800 3500
F 0 "#PWR06" H 4800 3250 50  0001 C CNN
F 1 "GND" H 4805 3327 50  0000 C CNN
F 2 "" H 4800 3500 50  0000 C CNN
F 3 "" H 4800 3500 50  0000 C CNN
	1    4800 3500
	1    0    0    -1  
$EndComp
Wire Wire Line
	4550 2550 4550 2600
Wire Wire Line
	4550 2600 5000 2600
Wire Wire Line
	4750 2450 4750 2500
Wire Wire Line
	4750 2500 5000 2500
Wire Wire Line
	4800 3500 4800 3450
Wire Wire Line
	4800 3450 5000 3450
$Comp
L +12V #PWR07
U 1 1 57EBE610
P 7200 950
F 0 "#PWR07" H 7200 800 50  0001 C CNN
F 1 "+12V" H 7215 1123 50  0000 C CNN
F 2 "" H 7200 950 50  0000 C CNN
F 3 "" H 7200 950 50  0000 C CNN
	1    7200 950 
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR08
U 1 1 57EBE616
P 7400 850
F 0 "#PWR08" H 7400 700 50  0001 C CNN
F 1 "+5V" H 7415 1023 50  0000 C CNN
F 2 "" H 7400 850 50  0000 C CNN
F 3 "" H 7400 850 50  0000 C CNN
	1    7400 850 
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR09
U 1 1 57EBE61C
P 7450 1900
F 0 "#PWR09" H 7450 1650 50  0001 C CNN
F 1 "GND" H 7455 1727 50  0000 C CNN
F 2 "" H 7450 1900 50  0000 C CNN
F 3 "" H 7450 1900 50  0000 C CNN
	1    7450 1900
	1    0    0    -1  
$EndComp
Wire Wire Line
	7200 950  7200 1000
Wire Wire Line
	7200 1000 7650 1000
Wire Wire Line
	7400 850  7400 900 
Wire Wire Line
	7400 900  7650 900 
Wire Wire Line
	7450 1900 7450 1850
Wire Wire Line
	7450 1850 7650 1850
$Comp
L +12V #PWR010
U 1 1 57EBE628
P 7200 2500
F 0 "#PWR010" H 7200 2350 50  0001 C CNN
F 1 "+12V" H 7215 2673 50  0000 C CNN
F 2 "" H 7200 2500 50  0000 C CNN
F 3 "" H 7200 2500 50  0000 C CNN
	1    7200 2500
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR011
U 1 1 57EBE62E
P 7400 2400
F 0 "#PWR011" H 7400 2250 50  0001 C CNN
F 1 "+5V" H 7415 2573 50  0000 C CNN
F 2 "" H 7400 2400 50  0000 C CNN
F 3 "" H 7400 2400 50  0000 C CNN
	1    7400 2400
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR012
U 1 1 57EBE634
P 7450 3450
F 0 "#PWR012" H 7450 3200 50  0001 C CNN
F 1 "GND" H 7455 3277 50  0000 C CNN
F 2 "" H 7450 3450 50  0000 C CNN
F 3 "" H 7450 3450 50  0000 C CNN
	1    7450 3450
	1    0    0    -1  
$EndComp
Wire Wire Line
	7200 2500 7200 2550
Wire Wire Line
	7200 2550 7650 2550
Wire Wire Line
	7400 2400 7400 2450
Wire Wire Line
	7400 2450 7650 2450
Wire Wire Line
	7450 3450 7450 3400
Wire Wire Line
	7450 3400 7650 3400
$Comp
L CONN_01X09 P1
U 1 1 57EC0414
P 1400 1600
F 0 "P1" V 1600 1600 50  0000 C CNN
F 1 "SPI_IN" V 1500 1600 50  0000 C CNN
F 2 "tera_Connectors_JST:JST_XH_B09B-XH-A_09x2.50mm_Straight" H 1400 1600 50  0001 C CNN
F 3 "" H 1400 1600 50  0000 C CNN
F 4 "02-0909" V 1400 1600 60  0001 C CNN "HPN"
	1    1400 1600
	-1   0    0    1   
$EndComp
$Comp
L +5V #PWR013
U 1 1 57EC13FF
P 1850 1100
F 0 "#PWR013" H 1850 950 50  0001 C CNN
F 1 "+5V" H 1865 1273 50  0000 C CNN
F 2 "" H 1850 1100 50  0000 C CNN
F 3 "" H 1850 1100 50  0000 C CNN
	1    1850 1100
	1    0    0    -1  
$EndComp
Wire Wire Line
	1850 1100 1850 1200
Wire Wire Line
	1850 1200 1600 1200
$Comp
L GND #PWR014
U 1 1 57EC156C
P 1850 2100
F 0 "#PWR014" H 1850 1850 50  0001 C CNN
F 1 "GND" H 1855 1927 50  0000 C CNN
F 2 "" H 1850 2100 50  0000 C CNN
F 3 "" H 1850 2100 50  0000 C CNN
	1    1850 2100
	1    0    0    -1  
$EndComp
Wire Wire Line
	1850 2100 1850 2000
Wire Wire Line
	1850 2000 1600 2000
Text Label 1600 1300 0    40   ~ 0
CLK
Text Label 1600 1400 0    40   ~ 0
MISO
Text Label 1600 1500 0    40   ~ 0
MOSI
Text Label 1600 1600 0    40   ~ 0
NCS1
Text Label 1600 1700 0    40   ~ 0
NCS2
Text Label 1600 1800 0    40   ~ 0
NCS3
Text Label 1600 1900 0    40   ~ 0
NCS4
Text Label 5000 1200 2    40   ~ 0
CLK
Text Label 5000 1300 2    40   ~ 0
MISO
Text Label 5000 1400 2    40   ~ 0
MOSI
Text Label 5000 1500 2    40   ~ 0
NCS1
Text Label 5000 2750 2    40   ~ 0
CLK
Text Label 5000 2850 2    40   ~ 0
MISO
Text Label 5000 2950 2    40   ~ 0
MOSI
Text Label 5000 3050 2    40   ~ 0
NCS2
Text Label 7650 1150 2    40   ~ 0
CLK
Text Label 7650 1250 2    40   ~ 0
MISO
Text Label 7650 1350 2    40   ~ 0
MOSI
Text Label 7650 1450 2    40   ~ 0
NCS3
Text Label 7650 2700 2    40   ~ 0
CLK
Text Label 7650 2800 2    40   ~ 0
MISO
Text Label 7650 2900 2    40   ~ 0
MOSI
Text Label 7650 3000 2    40   ~ 0
NCS4
Text Label 5000 1650 2    40   ~ 0
~ALERT1
Text Label 5000 1750 2    40   ~ 0
~FAULT1
Text Label 5000 3200 2    40   ~ 0
~ALERT2
Text Label 5000 3300 2    40   ~ 0
~FAULT2
Text Label 7650 3150 2    40   ~ 0
~ALERT4
Text Label 7650 3250 2    40   ~ 0
~FAULT4
Text Label 7650 1600 2    40   ~ 0
~ALERT3
Text Label 7650 1700 2    40   ~ 0
~FAULT3
$Comp
L CONN_01X02 P2
U 1 1 57EC788E
P 1400 2700
F 0 "P2" V 1600 2700 50  0000 C CNN
F 1 "12V" V 1500 2700 50  0000 C CNN
F 2 "tera_Connectors_JST:JST_XH_B02B-XH-A_02x2.50mm_Straight" H 1400 2700 50  0001 C CNN
F 3 "" H 1400 2700 50  0000 C CNN
F 4 "02-0902" V 1400 2700 60  0001 C CNN "HPN"
	1    1400 2700
	-1   0    0    1   
$EndComp
$Comp
L GND #PWR015
U 1 1 57EC87DA
P 1900 2850
F 0 "#PWR015" H 1900 2600 50  0001 C CNN
F 1 "GND" H 1905 2677 50  0000 C CNN
F 2 "" H 1900 2850 50  0000 C CNN
F 3 "" H 1900 2850 50  0000 C CNN
	1    1900 2850
	1    0    0    -1  
$EndComp
Wire Wire Line
	1600 2750 1900 2750
$Comp
L +12V #PWR016
U 1 1 57ECA461
P 1900 2550
F 0 "#PWR016" H 1900 2400 50  0001 C CNN
F 1 "+12V" H 1915 2723 50  0000 C CNN
F 2 "" H 1900 2550 50  0000 C CNN
F 3 "" H 1900 2550 50  0000 C CNN
	1    1900 2550
	1    0    0    -1  
$EndComp
Wire Wire Line
	1900 2750 1900 2850
Wire Wire Line
	1900 2650 1600 2650
Wire Wire Line
	1900 2550 1900 2650
$Comp
L ZENERsmall D1
U 1 1 57ECB0C1
P 2000 2700
F 0 "D1" V 1954 2769 50  0000 L CNN
F 1 "18V" V 2045 2769 50  0000 L CNN
F 2 "tera_diodes:DO-214AA_with_vias_in_pad" H 2000 2700 50  0001 C CNN
F 3 "" H 2000 2700 50  0000 C CNN
F 4 "21-9003" V 2000 2700 60  0001 C CNN "HPN"
	1    2000 2700
	0    1    1    0   
$EndComp
Wire Wire Line
	1900 2800 2000 2800
Connection ~ 1900 2800
Wire Wire Line
	1900 2600 2000 2600
Connection ~ 1900 2600
$Comp
L SN74HC21D U1
U 1 1 57ECF36A
P 2100 4550
F 0 "U1" H 2100 4915 50  0000 C CNN
F 1 "SN74HC21D" H 2100 4824 50  0000 C CNN
F 2 "tera_atomic_ic:SN74HC21D" V 2500 4550 50  0001 C CNN
F 3 "" H 2150 4650 50  0000 C CNN
F 4 "20-2005" H 2100 4550 60  0001 C CNN "HPN"
	1    2100 4550
	1    0    0    -1  
$EndComp
$Comp
L SN74HC21D U1
U 2 1 57ECF49A
P 2100 5200
F 0 "U1" H 2100 5565 50  0000 C CNN
F 1 "SN74HC21D" H 2100 5474 50  0000 C CNN
F 2 "tera_atomic_ic:SN74HC21D" V 2500 5200 50  0001 C CNN
F 3 "" H 2150 5300 50  0000 C CNN
F 4 "20-2005" H 2100 5200 60  0001 C CNN "HPN"
	2    2100 5200
	1    0    0    1   
$EndComp
$Comp
L SN74HC21D U1
U 3 1 57ECF5CC
P 1200 4850
F 0 "U1" H 1288 4896 50  0000 L CNN
F 1 "SN74HC21D" H 1288 4805 50  0000 L CNN
F 2 "tera_atomic_ic:SN74HC21D" V 1600 4850 50  0001 C CNN
F 3 "" H 1250 4950 50  0000 C CNN
F 4 "20-2005" H 1200 4850 60  0001 C CNN "HPN"
	3    1200 4850
	1    0    0    -1  
$EndComp
Text Label 1850 4400 2    40   ~ 0
~ALERT1
Text Label 1850 4500 2    40   ~ 0
~ALERT2
Text Label 1850 4600 2    40   ~ 0
~ALERT3
Text Label 1850 4700 2    40   ~ 0
~ALERT4
Text Label 1850 5050 2    40   ~ 0
~FAULT1
Text Label 1850 5150 2    40   ~ 0
~FAULT2
Text Label 1850 5250 2    40   ~ 0
~FAULT3
Text Label 1850 5350 2    40   ~ 0
~FAULT4
$Comp
L CONN_01X02 P3
U 1 1 57ED9A83
P 3500 4850
F 0 "P3" H 3418 4575 50  0000 C CNN
F 1 "Digital_Out" H 3418 4666 50  0000 C CNN
F 2 "tera_Connectors_JST:JST_EH_B02B-EH-A_02x2.50mm_Straight" H 3500 4850 50  0001 C CNN
F 3 "" H 3500 4850 50  0000 C CNN
F 4 "02-1902" H 3500 4850 60  0001 C CNN "HPN"
	1    3500 4850
	1    0    0    1   
$EndComp
Wire Wire Line
	2350 4550 2650 4550
Wire Wire Line
	2650 4550 2650 4800
Wire Wire Line
	2650 4800 3300 4800
Wire Wire Line
	2350 5200 2650 5200
Wire Wire Line
	2650 5200 2650 4900
Wire Wire Line
	2650 4900 3300 4900
$Comp
L C_Small C1
U 1 1 57EDF0DC
P 900 4850
F 0 "C1" H 992 4896 50  0000 L CNN
F 1 "100n" H 992 4805 50  0000 L CNN
F 2 "tera_rlc:C_0805in" H 992 4759 50  0001 L CNN
F 3 "" H 900 4850 50  0000 C CNN
F 4 "52-100n" H 900 4850 60  0001 C CNN "HPN"
	1    900  4850
	1    0    0    -1  
$EndComp
Wire Wire Line
	900  4750 900  4650
Wire Wire Line
	900  4650 1200 4650
Wire Wire Line
	900  4950 900  5050
Wire Wire Line
	900  5050 1200 5050
Wire Wire Line
	1050 4650 1050 4600
Connection ~ 1050 4650
Wire Wire Line
	1050 5050 1050 5100
Connection ~ 1050 5050
$Comp
L GND #PWR017
U 1 1 57EDFA87
P 1050 5100
F 0 "#PWR017" H 1050 4850 50  0001 C CNN
F 1 "GND" H 1055 4927 50  0000 C CNN
F 2 "" H 1050 5100 50  0000 C CNN
F 3 "" H 1050 5100 50  0000 C CNN
	1    1050 5100
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR018
U 1 1 57EE024E
P 1050 4600
F 0 "#PWR018" H 1050 4450 50  0001 C CNN
F 1 "+5V" H 1065 4773 50  0000 C CNN
F 2 "" H 1050 4600 50  0000 C CNN
F 3 "" H 1050 4600 50  0000 C CNN
	1    1050 4600
	1    0    0    -1  
$EndComp
$Comp
L R_Small R1
U 1 1 57EBAFD2
P 2800 5100
F 0 "R1" H 2859 5146 50  0000 L CNN
F 1 "5k1" H 2859 5055 50  0000 L CNN
F 2 "tera_rlc:C_0805in" H 2800 5100 50  0001 C CNN
F 3 "" H 2800 5100 50  0000 C CNN
F 4 "11-5K10" H 2800 5100 60  0001 C CNN "HPN"
	1    2800 5100
	1    0    0    -1  
$EndComp
$Comp
L R_Small R2
U 1 1 57EBB42A
P 3100 5100
F 0 "R2" H 3159 5146 50  0000 L CNN
F 1 "5k1" H 3159 5055 50  0000 L CNN
F 2 "tera_rlc:C_0805in" H 3100 5100 50  0001 C CNN
F 3 "" H 3100 5100 50  0000 C CNN
F 4 "11-5K10" H 3100 5100 60  0001 C CNN "HPN"
	1    3100 5100
	1    0    0    -1  
$EndComp
$Comp
L LED D2
U 1 1 57EBB52E
P 2800 5500
F 0 "D2" V 2900 5700 50  0000 R CNN
F 1 "~Alert" V 2800 5750 50  0000 R CNN
F 2 "tera_diodes:LED_0805" H 2800 5500 50  0001 C CNN
F 3 "" H 2800 5500 50  0000 C CNN
F 4 "21-0002" V 2800 5500 60  0001 C CNN "HPN"
	1    2800 5500
	0    -1   -1   0   
$EndComp
$Comp
L LED D3
U 1 1 57EBB7E1
P 3100 5500
F 0 "D3" V 3146 5392 50  0000 R CNN
F 1 "~Fault" V 3055 5392 50  0000 R CNN
F 2 "tera_diodes:LED_0805" H 3100 5500 50  0001 C CNN
F 3 "" H 3100 5500 50  0000 C CNN
F 4 "21-0002" V 3100 5500 60  0001 C CNN "HPN"
	1    3100 5500
	0    -1   -1   0   
$EndComp
Wire Wire Line
	2800 5700 2800 5750
Wire Wire Line
	2800 5750 3100 5750
Wire Wire Line
	3100 5750 3100 5700
$Comp
L GND #PWR019
U 1 1 57EBB9A8
P 2950 5800
F 0 "#PWR019" H 2950 5550 50  0001 C CNN
F 1 "GND" H 2955 5627 50  0000 C CNN
F 2 "" H 2950 5800 50  0000 C CNN
F 3 "" H 2950 5800 50  0000 C CNN
	1    2950 5800
	1    0    0    -1  
$EndComp
Wire Wire Line
	2950 5800 2950 5750
Connection ~ 2950 5750
Wire Wire Line
	3100 5300 3100 5200
Wire Wire Line
	3100 5000 3100 4900
Connection ~ 3100 4900
Wire Wire Line
	2800 5300 2800 5200
Wire Wire Line
	2800 5000 2800 4800
Connection ~ 2800 4800
$Comp
L PWR_FLAG #FLG020
U 1 1 57ED4CB3
P 1600 2650
F 0 "#FLG020" H 1600 2745 50  0001 C CNN
F 1 "PWR_FLAG" H 1600 2874 50  0000 C CNN
F 2 "" H 1600 2650 50  0000 C CNN
F 3 "" H 1600 2650 50  0000 C CNN
	1    1600 2650
	1    0    0    -1  
$EndComp
$Comp
L PWR_FLAG #FLG021
U 1 1 57ED5D2F
P 1600 2750
F 0 "#FLG021" H 1600 2845 50  0001 C CNN
F 1 "PWR_FLAG" H 1600 2973 50  0000 C CNN
F 2 "" H 1600 2750 50  0000 C CNN
F 3 "" H 1600 2750 50  0000 C CNN
	1    1600 2750
	-1   0    0    1   
$EndComp
$Comp
L PWR_FLAG #FLG022
U 1 1 57ED856B
P 1600 1200
F 0 "#FLG022" H 1600 1295 50  0001 C CNN
F 1 "PWR_FLAG" H 1600 1424 50  0000 C CNN
F 2 "" H 1600 1200 50  0000 C CNN
F 3 "" H 1600 1200 50  0000 C CNN
	1    1600 1200
	1    0    0    -1  
$EndComp
$EndSCHEMATC
